(this["webpackJsonpreact-restaurant-app"]=this["webpackJsonpreact-restaurant-app"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(9),i=n.n(c),o=(n(17),n(18),n(11)),a=n(12),d=n(3),u=n(4),l=n(2),j=n(6),h=n(5),b=n(10),m=n.n(b),O=(n(8),n(0)),p=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={orderEntries:[]},r.handleCompleted=r.handleCompleted.bind(Object(l.a)(r)),r}return Object(u.a)(n,[{key:"handleCompleted",value:function(){console.log("testing")}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/v2/orders/").then((function(e){return e.json()})).then((function(t){return e.setState({orderEntries:t})}))}},{key:"render",value:function(){var e=this,t=this.state.orderEntries.map((function(t,n){return Object(O.jsxs)("table",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsxs)("th",{children:["Order#: ",n+1]}),Object(O.jsxs)("td",{children:["Name:",t.customer]}),Object(O.jsxs)("td",{children:["Address: ",t.address]}),Object(O.jsxs)("td",{children:["Email: ",t.email]}),Object(O.jsxs)("td",{children:["Total: $",t.subtotal]})]}),Object(O.jsx)("button",{type:"button",onClick:e.handleCompleted,children:"Completed"})]},n)}));return Object(O.jsx)(O.Fragment,{children:t})}}]),n}(r.Component);function v(e){return e.menuItems.map((function(t){return Object(O.jsx)("div",{className:"card-group",children:Object(O.jsx)("div",{className:"card testing",children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("img",{src:t.image,alt:""}),Object(O.jsx)("h5",{className:"card-title",children:t.food}),Object(O.jsxs)("span",{children:["$",t.price.toFixed(2)]}),Object(O.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){e.addItem(t)},children:"Add to Cart"}),Object(O.jsx)("p",{className:"card-text",children:t.description})]})})},t.id)}))}var f=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={meal:[],show:!1,customer:"John Smith",address:"123 Testing Ln San Diego, CA",email:"jsmith@example.com",subtotal:0},r.subtotal=r.subtotal.bind(Object(l.a)(r)),r.handleOrder=r.handleOrder.bind(Object(l.a)(r)),r}return Object(u.a)(n,[{key:"subtotal",value:function(e){return e.reduce((function(e,t){return e+t}),0).toFixed(2)}},{key:"handleOrder",value:function(e){var t=this.props.order.map((function(e,t){return e.food})),n=Object(a.a)({},t),r=this.props.order.map((function(e){return e.price})),s=Number(r.reduce((function(e,t){return e+t}),0).toFixed(2)),c={customer:this.state.customer,address:this.state.address,email:this.state.email,order:n,subtotal:s};console.log(c);var i={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(c)};fetch("/api/v2/orders/",i).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.order.map((function(e){return e.price})),n=this.props.order.map((function(t,n){return Object(O.jsxs)("li",{children:[Object(O.jsxs)("span",{children:[t.food," ($",t.price.toFixed(2),")"]}),Object(O.jsx)("button",{type:"button",onClick:function(){e.props.removeItem(t)},children:"X"})]},n)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:["Cart (",t.length,")"]}),Object(O.jsxs)("div",{children:["Subtotal: $",this.subtotal(t)]}),Object(O.jsx)("button",{onClick:function(){return e.setState({show:!e.state.show})},children:this.state.show?"Hide order":"View Cart"}),Object(O.jsx)("button",{type:"button",onClick:this.handleOrder,children:"Submit Order"}),this.state.show&&Object(O.jsx)("span",{children:n})]})}}]),n}(r.Component),x=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={menuItems:[],order:[],view:1},r.addItem=r.addItem.bind(Object(l.a)(r)),r.removeItem=r.removeItem.bind(Object(l.a)(r)),r}return Object(u.a)(n,[{key:"addItem",value:function(e){var t=Object(o.a)(this.state.order);t.push(e),this.setState({order:t})}},{key:"removeItem",value:function(e){console.log(e)}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/menu/").then((function(e){return e.json()})).then((function(t){return e.setState({menuItems:t})}))}},{key:"render",value:function(){var e=this,t=[Object(O.jsxs)("div",{className:"row row-cols-1 row-cols-md-3 g-4 body",children:[Object(O.jsx)("div",{className:"col main",children:Object(O.jsx)(v,{menuItems:this.state.menuItems,addItem:this.addItem})}),Object(O.jsx)("aside",{className:"order",children:Object(O.jsx)(f,{order:this.state.order,removeItem:this.removeItem})})]})],n=[Object(O.jsx)("div",{children:Object(O.jsx)(p,{})})];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{children:"`WELCOME TO VIC'S PIZZA`"}),Object(O.jsx)("button",{type:"button",onClick:function(){return e.setState({view:1})},children:"MENU"}),Object(O.jsx)("button",{type:"button",onClick:function(){return e.setState({view:2})},children:"ORDERS"}),1===this.state.view?Object(O.jsx)("div",{children:t}):"",2===this.state.view?Object(O.jsx)("div",{children:n}):""]})}}]),n}(r.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),c(e),i(e)}))};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root")),C()},8:function(e,t,n){}},[[20,1,2]]]);
//# sourceMappingURL=main.9d6d0de3.chunk.js.map